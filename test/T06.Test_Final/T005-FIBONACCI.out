#source "T005-FIBONACCI.me"

'Declaraciones globales
#type pairTuple: {
	integer:int
	character:char
}
#type ageTuple: {
	age:int
}
#type acmeTuple: {
	employees:2 * ageTuple
}
#global pair:pairTuple
#global acme:2 * acmeTuple
#global fibonacci:8 * 3 * int

call main
halt

'**
'** Features
'**

#line 29
p:
#func p
#ret void

#line 30
ret 0, 0, 0

#line 31
f:
#func f
#ret int
#param r:float
#param e:int

#line 35
enter 7
#local real:float
#local c:char
#local result:int

#line 37
push bp
push -4
add
push bp
push 6
add
loadf
pushf 10.0
mulf
storef

#line 38
push bp
push -5
add
pushb 48
storeb

#line 39
push bp
push 4
add
loadi
pushi 256
lti
jz else0000

#line 40
push bp
push -5
add
push bp
push 4
add
loadi
i2b
storeb

#line 41
push bp
push -7
add
push bp
push -5
add
loadb
b2i
storei
jmp finelse0000
else0000:

#line 43
push bp
push -7
add
push bp
push -4
add
loadf
f2i
storei
finelse0000:

#line 45
push bp
push -7
add
loadi
ret 2, 7, 6

#line 48
initialize:
#func initialize
#ret void

#line 50
enter 2
#local i:int
' until-from 0001

#line 53
pusha 11
pushi 0
pushi 6
muli
addi
pushi 0
pushi 2
muli
addi
pushi 0
storei

#line 54
pusha 11
pushi 0
pushi 6
muli
addi
pushi 1
pushi 2
muli
addi
pushi 1
storei

#line 55
pusha 11
pushi 0
pushi 6
muli
addi
pushi 2
pushi 2
muli
addi
pushi 1
storei

#line 56
push bp
push -2
add
pushi 1
storei

#line 57
untilcond0001:
push bp
push -2
add
loadi
pushi 8
gei
jnz untilend0001

#line 57

#line 58
pusha 11
push bp
push -2
add
loadi
pushi 6
muli
addi
pushi 0
pushi 2
muli
addi
pusha 11
push bp
push -2
add
loadi
pushi 1
subi
pushi 6
muli
addi
pushi 1
pushi 2
muli
addi
loadi
storei

#line 59
pusha 11
push bp
push -2
add
loadi
pushi 6
muli
addi
pushi 1
pushi 2
muli
addi
pusha 11
push bp
push -2
add
loadi
pushi 1
subi
pushi 6
muli
addi
pushi 2
pushi 2
muli
addi
loadi
storei

#line 60
pusha 11
push bp
push -2
add
loadi
pushi 6
muli
addi
pushi 2
pushi 2
muli
addi
pusha 11
push bp
push -2
add
loadi
pushi 6
muli
addi
pushi 0
pushi 2
muli
addi
loadi
pusha 11
push bp
push -2
add
loadi
pushi 6
muli
addi
pushi 1
pushi 2
muli
addi
loadi
addi
storei

#line 61
push bp
push -2
add
push bp
push -2
add
loadi
pushi 1
addi
storei
jmp untilcond0001
untilend0001:

#line 62
ret 0, 2, 0

#line 67
inicio:
#func inicio
#ret void

#line 70
enter 4
#local i:int
#local j:int

#line 72
call p

#line 73
push bp
push -2
add
pushi 0
storei

#line 74
pusha 0
pushi 2
add
pushb 48
storeb

#line 75
pusha 0
pushi 0
add
pushb 48
b2i
storei

#line 78
push bp
push -2
add
loadi
i2f
pusha 0
pushi 2
add
loadb
b2i
call f
outi
pushb 10
outb

#line 79
pushf 1.3
pushi 2
call f
popi

#line 81
call initialize
' until-from 0002

#line 83
push bp
push -2
add
pushi 0
storei

#line 84
untilcond0002:
push bp
push -2
add
loadi
pushi 8
gei
jnz untilend0002

#line 84

#line 86
pushb 40
outb
push bp
push -2
add
loadi
pushi 1
addi
outi
pushb 41
outb
pushb 32
outb

#line 87
pusha 11
push bp
push -2
add
loadi
pushi 6
muli
addi
pushi 0
pushi 2
muli
addi
loadi
outi

#line 88
pushb 43
outb

#line 89
pusha 11
push bp
push -2
add
loadi
pushi 6
muli
addi
pushi 1
pushi 2
muli
addi
loadi
outi

#line 90
pushb 61
outb

#line 91
pusha 11
push bp
push -2
add
loadi
pushi 6
muli
addi
pushi 2
pushi 2
muli
addi
loadi
outi
pushb 10
outb

#line 92
push bp
push -2
add
push bp
push -2
add
loadi
pushi 1
addi
storei
jmp untilcond0002
untilend0002:

#line 95
pusha 3
pushi 1
pushi 4
muli
addi
pushi 0
add
pushi 1
pushi 2
muli
addi
pushi 0
add
pushi 56
storei

#line 97
pusha 3
pushi 1
pushi 4
muli
addi
pushi 0
add
pushi 1
pushi 2
muli
addi
pushi 0
add
loadi
outi
pushb 10
outb
' until-from 0003

#line 99
push bp
push -2
add
pushi 0
storei

#line 100
untilcond0003:
push bp
push -2
add
loadi
pushi 2
gei
jnz untilend0003

#line 100
' until-from 0004

#line 102
push bp
push -4
add
pushi 0
storei

#line 103
untilcond0004:
push bp
push -4
add
loadi
pushi 2
gei
jnz untilend0004

#line 103

#line 104
pusha 3
push bp
push -2
add
loadi
pushi 4
muli
addi
pushi 0
add
push bp
push -4
add
loadi
pushi 2
muli
addi
pushi 0
add
push bp
push -2
add
loadi
push bp
push -4
add
loadi
addi
storei

#line 105
push bp
push -4
add
push bp
push -4
add
loadi
pushi 1
addi
storei
jmp untilcond0004
untilend0004:

#line 107
push bp
push -2
add
push bp
push -2
add
loadi
pushi 1
addi
storei
jmp untilcond0003
untilend0003:
' until-from 0005

#line 111
push bp
push -2
add
pushi 0
storei

#line 112
untilcond0005:
push bp
push -2
add
loadi
pushi 2
gei
jnz untilend0005

#line 112
' until-from 0006

#line 114
push bp
push -4
add
pushi 0
storei

#line 115
untilcond0006:
push bp
push -4
add
loadi
pushi 2
gei
jnz untilend0006

#line 115

#line 117
pusha 3
push bp
push -2
add
loadi
pushi 4
muli
addi
pushi 0
add
push bp
push -4
add
loadi
pushi 2
muli
addi
pushi 0
add
loadi
outi

#line 118
pushb 32
outb

#line 119
push bp
push -4
add
push bp
push -4
add
loadi
pushi 1
addi
storei
jmp untilcond0006
untilend0006:

#line 121
push bp
push -2
add
push bp
push -2
add
loadi
pushi 1
addi
storei
jmp untilcond0005
untilend0005:

#line 122
ret 0, 4, 0

'**
'** Main
'**

#line 127
main:
#func main
#ret void

#line 127
call inicio

#line 128
ret 0, 0, 0
