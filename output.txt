#source "output.txt"

'Declaraciones globales
#type Persona: {
	inicial:char
	sueldo:float
}
#global empresa:4 * Persona

call main
halt

'**
'** Features
'**

#line 38
inicia:
#func inicia
#ret void

#line 40
enter 2
#local i:int
' until-from 0000

#line 43
push bp
push -2
add
pushi 0
storei

#line 44
untilcond0000:
push bp
push -2
add
loadi
pushi 4
eqi
jnz untilend0000

#line 44

#line 45
pusha 0
push bp
push -2
add
loadi
pushi 5
muli
addi
pushi 0
add
push bp
push -2
add
loadi
pushb 65
b2i
addi
i2b
storeb

#line 46
pusha 0
push bp
push -2
add
loadi
pushi 5
muli
addi
pushi 1
add
pushi 1000
push bp
push -2
add
loadi
pushi 100
muli
addi
i2f
storef

#line 47
push bp
push -2
add
push bp
push -2
add
loadi
pushi 1
addi
storei
jmp untilcond0000
untilend0000:

#line 48
ret 0, 2, 0

#line 51
busca:
#func busca
#ret void
#param i:int

#line 53
push bp
push 4
add
loadi
pushi 0
lti
push bp
push 4
add
loadi
pushi 4
gei
or
jz else0001
ret 0, 0, 2
jmp finelse0001
else0001:
finelse0001:

#line 56
pusha 0
push bp
push 4
add
loadi
pushi 5
muli
addi
pushi 0
add
loadb
outb
pushb 10
outb

#line 57
pusha 0
push bp
push 4
add
loadi
pushi 5
muli
addi
pushi 1
add
loadf
outf
pushb 10
outb

#line 58
ret 0, 0, 2

#line 60
imprime:
#func imprime
#ret int

#line 63
enter 7
#local i:int
#local aux:Persona
' until-from 0002

#line 66
push bp
push -2
add
pushi 0
storei

#line 67
untilcond0002:
push bp
push -2
add
loadi
pushi 4
gei
jnz untilend0002

#line 67

#line 68
push bp
push -7
add
pushi 0
add
pusha 0
push bp
push -2
add
loadi
pushi 5
muli
addi
pushi 0
add
loadb
storeb

#line 69
push bp
push -7
add
pushi 1
add
pusha 0
push bp
push -2
add
loadi
pushi 5
muli
addi
pushi 1
add
loadf
storef

#line 71
push bp
push -7
add
pushi 0
add
loadb
outb
pushb 10
outb

#line 72
push bp
push -7
add
pushi 1
add
loadf
outf
pushb 10
outb

#line 74
push bp
push -2
add
push bp
push -2
add
loadi
pushi 1
addi
storei
jmp untilcond0002
untilend0002:

#line 76
push bp
push -2
add
loadi
ret 2, 7, 0

#line 79
arranque:
#func arranque
#ret void

#line 81
enter 2
#local posicion:int

#line 83
call inicia

#line 85
pushb 68
outb
pushb 97
outb
pushb 109
outb
pushb 101
outb
pushb 32
outb
pushb 108
outb
pushb 97
outb
pushb 32
outb
pushb 112
outb
pushb 111
outb
pushb 115
outb
pushb 105
outb
pushb 99
outb
pushb 105
outb
pushb 111
outb
pushb 110
outb
pushb 58
outb
pushb 32
outb

#line 86
push bp
push -2
add
ini
storei

#line 87
push bp
push -2
add
loadi
call busca

#line 89
call imprime
popi

#line 90
ret 0, 2, 0

'**
'** Main
'**

#line 94
main:
#func main
#ret void

#line 94
call arranque

#line 95
ret 0, 0, 0
